!function(){function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var r,t,a="function"==typeof Symbol?Symbol:{},l=a.iterator||"@@iterator",o=a.toStringTag||"@@toStringTag";function u(e,a,l,o){var u=a&&a.prototype instanceof s?a:s,f=Object.create(u.prototype);return n(f,"_invoke",function(e,n,a){var l,o,u,s=0,f=a||[],c=!1,d={p:0,n:0,v:r,a:v,f:v.bind(r,4),d:function(e,n){return l=e,o=0,u=r,d.n=n,i}};function v(e,n){for(o=e,u=n,t=0;!c&&s&&!a&&t<f.length;t++){var a,l=f[t],v=d.p,p=l[2];e>3?(a=p===n)&&(u=l[(o=l[4])?5:(o=3,3)],l[4]=l[5]=r):l[0]<=v&&((a=e<2&&v<l[1])?(o=0,d.v=n,d.n=l[1]):v<p&&(a=e<3||l[0]>n||n>p)&&(l[4]=e,l[5]=n,d.n=p,o=0))}if(a||e>1)return i;throw c=!0,n}return function(a,f,p){if(s>1)throw TypeError("Generator is already running");for(c&&1===f&&v(f,p),o=f,u=p;(t=o<2?r:u)||!c;){l||(o?o<3?(o>1&&(d.n=-1),v(o,u)):d.n=u:d.v=u);try{if(s=2,l){if(o||(a="next"),t=l[a]){if(!(t=t.call(l,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,o<2&&(o=0)}else 1===o&&(t=l.return)&&t.call(l),o<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),o=1);l=r}else if((t=(c=d.n<0)?u:e.call(n,d))!==i)break}catch(t){l=r,o=1,u=t}finally{s=1}}return{value:t,done:c}}}(e,l,o),!0),f}var i={};function s(){}function f(){}function c(){}t=Object.getPrototypeOf;var d=[][l]?t(t([][l]())):(n(t={},l,function(){return this}),t),v=c.prototype=s.prototype=Object.create(d);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,n(e,o,"GeneratorFunction")),e.prototype=Object.create(v),e}return f.prototype=c,n(v,"constructor",c),n(c,"constructor",f),f.displayName="GeneratorFunction",n(c,o,"GeneratorFunction"),n(v),n(v,o,"Generator"),n(v,l,function(){return this}),n(v,"toString",function(){return"[object Generator]"}),(e=function(){return{w:u,m:p}})()}function n(e,r,t,a){var l=Object.defineProperty;try{l({},"",{})}catch(e){l=0}n=function(e,r,t,a){function o(r,t){n(e,r,function(e){return this._invoke(r,t,e)})}r?l?l(e,r,{value:t,enumerable:!a,configurable:!a,writable:!a}):e[r]=t:(o("next",0),o("throw",1),o("return",2))},n(e,r,t,a)}function r(e,n){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,n){if(e){if("string"==typeof e)return t(e,n);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){r&&(e=r);var a=0,l=function(){};return{s:l,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return u=e.done,e},e:function(e){i=!0,o=e},f:function(){try{u||null==r.return||r.return()}finally{if(i)throw o}}}}function t(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=Array(n);r<n;r++)t[r]=e[r];return t}function a(e,n,r,t,a,l,o){try{var u=e[l](o),i=u.value}catch(e){return void r(e)}u.done?n(i):Promise.resolve(i).then(t,a)}function l(e){return function(){var n=this,r=arguments;return new Promise(function(t,l){var o=e.apply(n,r);function u(e){a(o,t,l,u,i,"next",e)}function i(e){a(o,t,l,u,i,"throw",e)}u(void 0)})}}System.register(["./index-legacy-x-IfpgQS.js","./el-tabs-legacy-BfoBVhSE.js"],function(n,t){"use strict";var a,o,u,i,s,f,c,d,v,p,g,m,y,k,w,h,b,x,_,F,j,C,S,O,z,A,D,T,I,G,P,U,E,V,B,$,N;return{setters:[function(e){a=e.d,o=e.r,u=e.o,i=e.aA,s=e.aB,f=e.c,c=e.e,d=e.w,v=e.n,p=e.i,g=e.h,m=e.ax,y=e.ay,k=e.j,w=e.C,h=e.l,b=e.Y,x=e.f,_=e.F,F=e.m,j=e.aC,C=e.B,S=e.t,O=e.aD,z=e.Q,A=e.x,D=e.g,T=e.aE,I=e.p,G=e.am,P=e.a8,U=e.aF,E=e.Z,V=e.aa,B=e.aG,$=e.aH,N=e.z},null],execute:function(){var t=document.createElement("style");t.textContent=":root{--el-loading-spinner-size:42px;--el-loading-fullscreen-spinner-size:50px}.el-loading-parent--relative{position:relative!important}.el-loading-parent--hidden{overflow:hidden!important}.el-loading-mask{background-color:var(--el-mask-color);bottom:0;left:0;margin:0;position:absolute;right:0;top:0;transition:opacity var(--el-transition-duration);z-index:2000}.el-loading-mask.is-fullscreen{position:fixed}.el-loading-mask.is-fullscreen .el-loading-spinner{margin-top:calc((0px - var(--el-loading-fullscreen-spinner-size))/2)}.el-loading-mask.is-fullscreen .el-loading-spinner .circular{height:var(--el-loading-fullscreen-spinner-size);width:var(--el-loading-fullscreen-spinner-size)}.el-loading-spinner{margin-top:calc((0px - var(--el-loading-spinner-size))/2);position:absolute;text-align:center;top:50%;width:100%}.el-loading-spinner .el-loading-text{color:var(--el-color-primary);font-size:14px;margin:3px 0}.el-loading-spinner .circular{animation:loading-rotate 2s linear infinite;display:inline;height:var(--el-loading-spinner-size);width:var(--el-loading-spinner-size)}.el-loading-spinner .path{animation:loading-dash 1.5s ease-in-out infinite;stroke-dasharray:90,150;stroke-dashoffset:0;stroke-width:2;stroke:var(--el-color-primary);stroke-linecap:round}.el-loading-spinner i{color:var(--el-color-primary)}.el-loading-fade-enter-from,.el-loading-fade-leave-to{opacity:0}@keyframes loading-rotate{to{transform:rotate(1turn)}}@keyframes loading-dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-40px}to{stroke-dasharray:90,150;stroke-dashoffset:-120px}}\n/*$vite$:1*/",document.head.appendChild(t);var H={style:{float:"right","margin-left":"1rem"}},J={style:{float:"right","margin-left":"1rem"}};n("_",a({__name:"tryapp",props:{app:{},skin:{}},setup:function(n){var t=n,a=o(),M=o(0),Q=o(0),W=o(void 0),Y=$(),Z=!!Y,q=o([]),K=o(void 0),L=function(){return K.value.getField("target").data="00000000-0000-0000-0000-000000000000"},R=function(){return K.value.getField("target").data=crypto.randomUUID()},X=function(){return ee.value.getField("target").data=crypto.randomUUID()},ee=o(void 0),ne=o(!1),re=o(!1),te=o(!1),ae=o(!1),le=o(!1),oe=function(){var n=l(e().m(function n(){var a,l,o,u,s,f,c,d,v,p,g;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:if(K.value){e.n=1;break}return e.a(2);case 1:if(e.p=1,a=K.value.getField("target").rawData,!I(a)){e.n=2;break}return e.a(2);case 2:return ne.value=!0,e.n=3,i({app:t.app,target:a,fields:[],take:5});case 3:return W.value=e.v,e.n=4,G(t.app);case 4:l=e.v,o=[],u=r(l.workflows||[]),e.p=5,u.s();case 6:if((s=u.n()).done){e.n=10;break}if(d=s.value,null!==(f=d.nodes)&&void 0!==f&&f.length){e.n=7;break}return e.a(3,9);case 7:return e.n=8,P(d.nodes[0].type);case 8:(null==(v=e.v)||null===(c=v.workflow)||void 0===c?void 0:c.mode)===U.Interaction&&o.push({workflow:d.name,display:d.display||E(d.name)});case 9:e.n=6;break;case 10:e.n=12;break;case 11:e.p=11,p=e.v,u.e(p);case 12:return e.p=12,u.f(),e.f(12);case 13:q.value=o,e.n=16;break;case 14:if(e.p=14,g=e.v,q.value=[],!g||403!==g.status){e.n=15;break}return V.error(w.value["frontend.view.nopermission"]),e.a(2);case 15:return V.error(w.value["frontend.view.error"]),console.error(g),e.a(2);case 16:return e.p=16,ne.value=!1,e.f(16);case 17:return e.a(2)}},n,null,[[5,11,12,13],[1,14,16,17]])}));return function(){return n.apply(this,arguments)}}(),ue=function(){var n=l(e().m(function n(){var r,l,o,u;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:if(K.value&&W.value){e.n=1;break}return e.a(2);case 1:return e.p=1,e.n=2,null===(r=a.value)||void 0===r?void 0:r.validate();case 2:if(W.value.valid){e.n=3;break}return e.a(2);case 3:if(l=K.value.getField("target").rawData,!I(l)){e.n=4;break}return e.a(2);case 4:return re.value=!0,e.n=5,W.value.submit();case 5:if(null!=(o=e.v)&&o.result){e.n=6;break}return null!=o&&o.error&&V.error(w.value((null==o?void 0:o.error)||"frontend.view.savefailed")),e.a(2);case 6:V.success(w.value("frontend.view.savesuccess"));case 7:return B(t.app,l),K.value.getField("app").data="",e.n=8,new Promise(function(e){return setTimeout(e,100)});case 8:return K.value.getField("app").data=t.app,e.n=9,oe();case 9:e.n=12;break;case 10:if(e.p=10,!(u=e.v)||403!==u.status){e.n=11;break}return V.error(w.value["frontend.view.nopermission"]),e.a(2);case 11:return V.error(w.value["frontend.view.error"]),console.log(JSON.stringify(W.value.fullerror)),e.a(2);case 12:return e.p=12,re.value=!1,e.f(12);case 13:return e.a(2)}},n,null,[[1,10,12,13]])}));return function(){return n.apply(this,arguments)}}(),ie=function(){var n=l(e().m(function n(){var r,a,l,o,u;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:if(ee.value&&K.value){e.n=1;break}return e.a(2);case 1:if(e.p=1,a=null===(r=K.value)||void 0===r?void 0:r.getField("target").data,l=ee.value.getField("app").data,!I(a)&&!I(l)){e.n=2;break}return e.a(2);case 2:return ne.value=!0,e.n=3,Y.getSourceTarget(t.app,a,l);case 3:o=e.v,ee.value.getField("target").data=o||"",e.n=6;break;case 4:if(e.p=4,!(u=e.v)||403!==u.status){e.n=5;break}return V.error(w.value["frontend.view.nopermission"]),e.a(2);case 5:return V.error(w.value["frontend.view.error"]),console.error(u),e.a(2);case 6:return e.p=6,ne.value=!1,e.f(6);case 7:return e.a(2)}},n,null,[[1,4,6,7]])}));return function(){return n.apply(this,arguments)}}(),se=function(){var n=l(e().m(function n(){var r,a,l,o;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:if(ee.value&&K.value){e.n=1;break}return e.a(2);case 1:if(e.p=1,r=K.value.getField("target").data,a=ee.value.getField("app").data,l=ee.value.getField("target").data,!I(r)&&!I(a)){e.n=2;break}return e.a(2);case 2:return re.value=!0,e.n=3,Y.setSourceTarget(t.app,r,a,l);case 3:if(e.v){e.n=4;break}return V.error(w.value("frontend.view.savefailed")),e.a(2);case 4:V.success(w.value("frontend.view.savesuccess"));case 5:l&&B(a,l),e.n=8;break;case 6:if(e.p=6,!(o=e.v)||403!==o.status){e.n=7;break}return V.error(w.value["frontend.view.nopermission"]),e.a(2);case 7:return V.error(w.value["frontend.view.error"]),console.error(o),e.a(2);case 8:return e.p=8,re.value=!1,e.f(8);case 9:return e.a(2)}},n,null,[[1,6,8,9]])}));return function(){return n.apply(this,arguments)}}(),fe=function(){var n=l(e().m(function n(r){var t,a;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:if(K.value&&W.value){e.n=1;break}return e.a(2);case 1:if(e.p=1,t=K.value.getField("target").rawData,!I(t)){e.n=2;break}return e.a(2);case 2:return le.value=!0,e.n=3,W.value.activeWorkflow(r);case 3:e.v?V.success(w.value("frontend.view.startworkflowsuccess")):V.error(w.value("frontend.view.startworkflowfailed")),e.n=6;break;case 4:if(e.p=4,!(a=e.v)||403!==a.status){e.n=5;break}return V.error(w.value["frontend.view.nopermission"]),e.a(2);case 5:return V.error(w.value["frontend.view.error"]),console.error(a),e.a(2);case 6:return e.p=6,le.value=!1,e.f(6);case 7:return e.a(2)}},n,null,[[1,4,6,7]])}));return function(e){return n.apply(this,arguments)}}();return u(l(e().m(function n(){var r,a,l,o;return e().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,i({app:t.app,target:"",fields:[]});case 1:if(W.value=e.v,te.value=!(null===(r=W.value)||void 0===r||!r.refInputFields.length),ae.value=!(null===(a=W.value)||void 0===a||!a.pushFields.length),Z){e.n=2;break}return e.a(2);case 2:return e.n=3,s({type:"frontend.apptarget"},{allowApps:[t.app],app:t.app,target:""});case 3:if(K.value=e.v,!((o=(null===(l=W.value)||void 0===l?void 0:l.sourceApps)||[]).length>0)){e.n=5;break}return e.n=4,s({type:"frontend.apptarget"},{allowApps:o,app:o[0],target:""});case 4:ee.value=e.v;case 5:return e.a(2)}},n)}))),function(e,r){var t=y,l=m,o=C,u=b,i=h,s=A,I=N,G=O;return c(),f(I,null,{default:d(function(){return[ee.value?(c(),f(l,{key:0,modelValue:M.value,"onUpdate:modelValue":r[0]||(r[0]=function(e){return M.value=e}),style:{"margin-bottom":"1rem"}},{default:d(function(){return[g(t,{label:k(w)["frontend.view.apptarget"],name:0},null,8,["label"]),r[2]||(r[2]=p()),g(t,{label:k(w)["frontend.view.sourceapptar"],name:1},null,8,["label"])]}),_:1},8,["modelValue"])):v("",!0),r[23]||(r[23]=p()),g(i,null,{default:d(function(){return[k(Z)&&K.value?(c(),f(u,{key:0,ref_key:"form",ref:a,"label-width":"140px","label-position":"left",model:K.value.rawData},{default:d(function(){return[0==M.value?(c(),x(_,{key:0},[F("section",H,[g(o,{type:"info",onClick:L},{default:d(function(){return[p(S(k(w)["frontend.view.useempty"]),1)]}),_:1}),r[3]||(r[3]=p()),g(o,{type:"info",onClick:R},{default:d(function(){return[p(S(k(w)["frontend.view.genguid"]),1)]}),_:1}),r[4]||(r[4]=p()),re.value?v("",!0):j((c(),f(o,{key:0,type:"primary",onClick:oe},{default:d(function(){return[p(S(k(w)["frontend.view.loaddata"]),1)]}),_:1})),[[G,ne.value]]),r[5]||(r[5]=p()),ne.value?v("",!0):j((c(),f(o,{key:1,type:"warning",onClick:ue},{default:d(function(){return[p(S(k(w)["frontend.view.savedata"]),1)]}),_:1})),[[G,ne.value]])]),r[6]||(r[6]=p()),g(k(z),{node:K.value,"in-form":!0,"plain-text":"left"},null,8,["node"])],64)):(c(),x(_,{key:1},[F("section",J,[g(o,{type:"info",onClick:X},{default:d(function(){return[p(S(k(w)["frontend.view.genguid"]),1)]}),_:1}),r[7]||(r[7]=p()),re.value?v("",!0):j((c(),f(o,{key:0,type:"primary",onClick:ie},{default:d(function(){return[p(S(k(w)["frontend.view.loadappsource"]),1)]}),_:1})),[[G,ne.value]]),r[8]||(r[8]=p()),ne.value?v("",!0):j((c(),f(o,{key:1,type:"warning",onClick:se},{default:d(function(){return[p(S(k(w)["frontend.view.saveappsource"]),1)]}),_:1})),[[G,ne.value]])]),r[9]||(r[9]=p()),g(k(z),{node:ee.value,"in-form":!0,"plain-text":"left"},null,8,["node"])],64))]}),_:1},8,["model"])):v("",!0)]}),_:1}),r[24]||(r[24]=p()),W.value?(c(),f(s,{key:1,style:{"max-height":"55vh","margin-top":"4rem"}},{default:d(function(){return[q.value.length?(c(!0),x(_,{key:0},D(q.value,function(e){return j((c(),f(o,{key:e.workflow,style:{"margin-bottom":"1rem","margin-right":"1rem"},type:"primary",onClick:function(n){return fe(e.workflow)}},{default:d(function(){return[p(S(k(w)(e.display)||e.workflow),1)]}),_:2},1032,["onClick"])),[[G,le.value]])}),128)):v("",!0),r[19]||(r[19]=p()),te.value||ae.value?(c(),f(l,{key:1,modelValue:Q.value,"onUpdate:modelValue":r[1]||(r[1]=function(e){return Q.value=e})},{default:d(function(){return[g(t,{label:k(w)["frontend.view.inputfield"],name:0},null,8,["label"]),r[10]||(r[10]=p()),te.value?(c(),f(t,{key:0,label:k(w)["frontend.view.reffield"],name:1},null,8,["label"])):v("",!0),r[11]||(r[11]=p()),ae.value?(c(),f(t,{key:1,label:k(w)["frontend.view.outputfield"],name:2},null,8,["label"])):v("",!0)]}),_:1},8,["modelValue"])):v("",!0),r[20]||(r[20]=p()),j(g(u,{ref_key:"form",ref:a,"label-width":"140px",model:W.value.rawData},{default:d(function(){return[(c(!0),x(_,null,D(W.value.inputFields,function(e){return c(),x(_,{key:e.guid},[F("h2",null,S(k(w)(e.display)||e.name),1),r[12]||(r[12]=p()),g(k(z),{"plain-text":"left",node:e,"in-form":!0,skin:n.skin},null,8,["node","skin"])],64)}),128))]}),_:1},8,["model"]),[[T,0===Q.value]]),r[21]||(r[21]=p()),j(g(u,{"label-width":"140px",model:W.value.rawData},{default:d(function(){return[(c(!0),x(_,null,D(W.value.refInputFields,function(e){return c(),x(_,{key:e.guid},[F("h2",null,S(k(w)(e.display)||e.name),1),r[13]||(r[13]=p()),g(k(z),{"plain-text":"left",node:e,"in-form":!0,skin:n.skin},null,8,["node","skin"]),r[14]||(r[14]=p()),r[15]||(r[15]=F("br",null,null,-1))],64)}),128))]}),_:1},8,["model"]),[[T,1===Q.value&&te.value]]),r[22]||(r[22]=p()),j(g(u,{"label-width":"140px",model:W.value.rawData},{default:d(function(){return[(c(!0),x(_,null,D(W.value.pushFields,function(e){return c(),x(_,{key:e.guid},[F("h2",null,S(k(w)(e.display)||e.name),1),r[16]||(r[16]=p()),g(k(z),{"plain-text":"left",node:e,"in-form":!0,skin:n.skin},null,8,["node","skin"]),r[17]||(r[17]=p()),r[18]||(r[18]=F("br",null,null,-1))],64)}),128))]}),_:1},8,["model"]),[[T,2===Q.value&&ae.value]])]}),_:1})):v("",!0)]}),_:1})}}}))}}})}();
